*** Settings ***
Documentation     为了提高在线购书的积极性，作为一个购书者，我希望得到免费快递
...
...               This test has a workflow similar to the keyword-driven
...               examples. The difference is that the keywords use higher
...               abstraction level and their arguments are embedded into
...               the keyword names.
...
...               This kind of _gherkin_ syntax has been made popular by
...               [http://cukes.info|Cucumber]. It works well especially when
...               tests act as examples that need to be easily understood also
...               by the business people.
Library           CalculatorLibrary
Library           Selenium2Library



*** Test Cases ***
Addition
    Given calculator has been cleared
    When user types "1 + 1"
    And user pushes equals
    Then result is "2"
    # Open Browser    http://html5demos.com/drag    ff
    # Selenium2Library.Drag And Drop    two    bin
    # [Teardown]    Close Browser

清华的书在上海内免费快递
    Given 清华出版社名为Agile Manifesto的书价值60元
    And 到上海的快递费8元
    When 用户结账到上海
    Then 用户应当付款60元

上海之外收费快递
    Given 清华出版社名为Agile Manifesto的书价值60元
    And 到杭州的快递费10元
    When 用户结账到杭州
    Then 用户应当付款70元

其他出版社的书收费快递
    Given 邮电出版社名为ATDD by example的书价值39元
    And 到上海的快递费8元
    When 用户结账到上海
    Then 用户应当付款47元

加法模板    [Template]  Calculate
    12 + 2 + 2    16
    2 + -3        -1

*** Keywords ***
Calculator has been cleared
    Push button    C

User types "${expression}"
    Push buttons    ${expression}

User pushes equals
    Push button    =

Result is "${result}"
    Result should be    ${result}


Given ${publisher}出版社名为${bookName}的书价值${price}元
    Log Many    ${publisher}    ${bookName}    ${price}
    Add Book To Cart    ${bookName}    ${price}    ${publisher}

Then 到${city}的快递费${fee}元
    Log Many    ${city}    ${fee}
    Configure Delivery Fee    ${city}    ${fee}

When 用户结账到${city}
    Log    ${city}
    Checkout    ${city}

用户应当付款${charge}元
    Log Many    ${charge}
    Charge Should be    ${charge}

Calculate
    [Arguments]    ${expression}    ${expected}
    Push buttons    C${expression}=
    Result should be    ${expected}
